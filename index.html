<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Scripts SQL - Matesur</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸš€</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ Generador de Scripts SQL</h1>
            <p>Herramienta para generar scripts DDL y DML basados en templates estÃ¡ndar</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('ddl')">ğŸ“ CREATE (DDL)</button>
            <button class="tab" onclick="switchTab('dml')">ğŸ”§ ALTER (DML)</button>
        </div>

        <!-- TAB DDL -->
        <div id="ddl-content" class="tab-content active">
            <form id="ddl-form">
                <div class="section-title">ğŸ“‹ InformaciÃ³n General</div>
                
                <div class="grid-2">
                    <div class="form-group">
                        <label>Requerimiento *</label>
                        <input type="text" id="ddl-req" placeholder="Ej: 3888" required>
                        <div class="help-text">NÃºmero del requerimiento</div>
                    </div>

                    <div class="form-group">
                        <label>Usuario *</label>
                        <input type="text" id="ddl-usuario" placeholder="Ej: mcellamare" required>
                        <div class="help-text">Nombre del usuario</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Fecha</label>
                    <input type="date" id="ddl-fecha" required>
                </div>

                <div class="form-group">
                    <label>DescripciÃ³n del Cambio *</label>
                    <textarea id="ddl-descripcion" placeholder="Ej: Comprobantes IA. Tabla para procesamiento de comprobantes con IA." required></textarea>
                </div>

                <div class="section-title">ğŸ—ƒï¸ Tabla Principal</div>

                <div class="form-group">
                    <label>Nombre de la Tabla *</label>
                    <input type="text" id="ddl-tabla" placeholder="Ej: CuentaBancariaTarjeta" required>
                </div>

                <div class="form-group">
                    <label>DescripciÃ³n de la Tabla *</label>
                    <textarea id="ddl-tabla-desc" placeholder="DescripciÃ³n breve de la tabla que se crea" required></textarea>
                </div>

                <div class="section-title">ğŸ“Š Columnas</div>

                <div id="ddl-columnas">
                    <!-- Las columnas se agregarÃ¡n dinÃ¡micamente -->
                </div>

                <button type="button" class="btn-secondary" onclick="agregarColumnaDDL()">â• Agregar Columna</button>

                <div class="section-title">ğŸ”— Foreign Keys (Opcional)</div>

                <div id="ddl-fks">
                    <!-- Los FKs se agregarÃ¡n dinÃ¡micamente -->
                </div>

                <button type="button" class="btn-secondary" onclick="agregarFKDDL()">â• Agregar Foreign Key</button>

                <div class="button-group">
                    <button type="button" class="btn-primary" onclick="generarScriptDDL()">ğŸ¯ Generar Script DDL</button>
                    <button type="button" class="btn-secondary" onclick="limpiarFormularioDDL()">ğŸ—‘ï¸ Limpiar</button>
                </div>
            </form>

            <div id="ddl-preview" class="preview" style="display: none;">
                <h3>ğŸ“„ Vista Previa del Script</h3>
                <pre id="ddl-preview-content"></pre>
                <button type="button" class="btn-primary" onclick="descargarScriptDDL()">ğŸ’¾ Descargar Script .sql</button>
            </div>
        </div>

        <!-- TAB DML -->
        <div id="dml-content" class="tab-content">
            <form id="dml-form">
                <div class="section-title">ğŸ“‹ InformaciÃ³n General</div>
                
                <div class="grid-2">
                    <div class="form-group">
                        <label>Requerimiento *</label>
                        <input type="text" id="dml-req" placeholder="Ej: 6675" required>
                        <div class="help-text">NÃºmero del requerimiento</div>
                    </div>

                    <div class="form-group">
                        <label>Usuario *</label>
                        <input type="text" id="dml-usuario" placeholder="Ej: mcellamare" required>
                        <div class="help-text">Nombre del usuario</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Fecha</label>
                    <input type="date" id="dml-fecha" required>
                </div>

                <div class="form-group">
                    <label>DescripciÃ³n del Cambio *</label>
                    <textarea id="dml-descripcion" placeholder="Ej: Update para vencer el token de MatbaWS." required></textarea>
                </div>

                <div class="section-title">ğŸ”§ Tipo de OperaciÃ³n</div>

                <div class="form-group">
                    <label>OperaciÃ³n DML *</label>
                    <select id="dml-operacion" onchange="actualizarFormularioDML()" required>
                        <option value="">Seleccione una operaciÃ³n...</option>
                        <option value="ALTER_ADD">ALTER TABLE - ADD Column</option>
                        <option value="ALTER_MODIFY">ALTER TABLE - MODIFY Column</option>
                        <option value="UPDATE">UPDATE - Actualizar datos</option>
                        <option value="INSERT">INSERT - Insertar datos</option>
                        <option value="DELETE">DELETE - Eliminar datos</option>
                    </select>
                </div>

                <!-- Campos dinÃ¡micos segÃºn operaciÃ³n -->
                <div id="dml-campos-dinamicos"></div>

                <div class="button-group">
                    <button type="button" class="btn-primary" onclick="generarScriptDML()">ğŸ¯ Generar Script DML</button>
                    <button type="button" class="btn-secondary" onclick="limpiarFormularioDML()">ğŸ—‘ï¸ Limpiar</button>
                </div>
            </form>

            <div id="dml-preview" class="preview" style="display: none;">
                <h3>ğŸ“„ Vista Previa del Script</h3>
                <pre id="dml-preview-content"></pre>
                <button type="button" class="btn-primary" onclick="descargarScriptDML()">ğŸ’¾ Descargar Script .sql</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>Â© 2025 - Derechos reservados al crack de Mati ğŸš€</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
